{"version":3,"file":"branch_modification.js","sources":["../../../../apps/shopee_open_api/shopee_open_api/public/js/branch.js","../../../../apps/shopee_open_api/shopee_open_api/public/js/branch_list.js"],"sourcesContent":["frappe.ui.form.on('Branch', {\n\trefresh: function (frm) {\n\t\tif (frm.doc.shopee_shop_id) {\n\t\t\tfrm.add_custom_button('Disconnect from shopee', () => {\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: 'shopee_open_api.auth.get_unauthorize_url',\n\t\t\t\t\tcallback: function (r) {\n\t\t\t\t\t\tlet unauthorizeUrl = r['message'];\n\t\t\t\t\t\twindow.open(unauthorizeUrl, '_self');\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n});\n","frappe.listview_settings['Branch'] = {\n\tonload: function (listview) {\n\t\tthis.add_button(['Add shopee as a new branch'], 'default', function () {\n\t\t\t// can I add something here?\n\t\t\tfrappe.call({\n\t\t\t\tmethod: 'shopee_open_api.auth.get_authorize_url',\n\t\t\t\tcallback: function (r) {\n\t\t\t\t\tlet authorizeUrl = r['message'];\n\t\t\t\t\twindow.open(authorizeUrl, '_self');\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t},\n\n\tadd_button(name, type, action, wrapper_class = '.page-actions') {\n\t\tconst button = document.createElement('button');\n\t\tbutton.classList.add('btn', 'btn-' + type, 'btn-sm', 'ml-2');\n\t\tbutton.innerHTML = name;\n\t\tbutton.onclick = action;\n\t\tdocument.querySelector(wrapper_class).prepend(button);\n\t},\n};\n"],"names":["let","const"],"mappings":";;;CAAA,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE;EAC3B,OAAO,EAAE,UAAU,GAAG,EAAE;GACvB,IAAI,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE;IAC3B,GAAG,CAAC,iBAAiB,CAAC,wBAAwB,cAAK;KAClD,MAAM,CAAC,IAAI,CAAC;MACX,MAAM,EAAE,0CAA0C;MAClD,QAAQ,EAAE,UAAU,CAAC,EAAE;OACtBA,IAAI,cAAc,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;OAClC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;OACrC;MACD,CAAC,CAAC;KACH,CAAC,CAAC;IACH;GACD;EACD,CAAC,CAAC;;CCdH,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,GAAG;EACpC,MAAM,EAAE,UAAU,QAAQ,EAAE;GAC3B,IAAI,CAAC,UAAU,CAAC,CAAC,4BAA4B,CAAC,EAAE,SAAS,EAAE,YAAY;;IAEtE,MAAM,CAAC,IAAI,CAAC;KACX,MAAM,EAAE,wCAAwC;KAChD,QAAQ,EAAE,UAAU,CAAC,EAAE;MACtBA,IAAI,YAAY,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC;MAChC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;MACnC;KACD,CAAC,CAAC;IACH,CAAC,CAAC;GACH;;EAED,+BAAU,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,aAA+B,EAAE;gDAApB,GAAG;;GAC9CC,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;GAChD,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,GAAG,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;GAC7D,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC;GACxB,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;GACxB,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GACtD;EACD,CAAC;;;;"}